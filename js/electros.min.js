function domReady(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}async function getAssetLinks(){try{console.log("Fetching latest release data from GitHub API...");const t=await fetch("https://api.github.com/repos/Elemento-Modular-Cloud/Electros/releases/latest");if(!t.ok)throw new Error(`GitHub API responded with status: ${t.status}`);const s=await t.json(),o={},n={md5:{},sha256:{}};if(s.body){const e=s.body.split("\n");let t="";for(const s of e)if(s.startsWith("## ")&&!s.startsWith("## Platform"))t=s.replace("## ","").trim();else if(s.startsWith("MD5:")){const e=s.replace("MD5:","").trim();t&&(n.md5[t]=e)}else if(s.startsWith("SHA256:")){const e=s.replace("SHA256:","").trim();t&&(n.sha256[t]=e)}}console.log("Processing assets..."),s.assets.forEach(e=>{let t=e.name;t.endsWith(".md5")||t.endsWith(".sha256")||(o[t]=e.browser_download_url)});const a={"linux-appimage":"ai",linux:"deb",mac:"dmg",win:"exe"},r=["x64","arm64"];for(const[t,s]of Object.entries(a)){var e=t;"linux-appimage"===t&&(e="linux");for(const t of r){if("win"===e&&"arm64"===t)continue;const a="arm64"===t?`${s}-arm-btn`:`${s}-x64-btn`,r=document.querySelector(`#${a}`),c=Object.keys(o).find(o=>o.includes(e)&&o.includes(t)&&o.endsWith(`.${"ai"===s?"AppImage":s}`));r&&c&&(r.href=o[c],r.classList.add("download-ready"));const d="arm64"===t?`${s}-arm-md5`:`${s}-x64-md5`,l=document.querySelector(`#${d}`);l&&n.md5[c]&&(l.textContent=`MD5: ${n.md5[c]}`,l.classList.add("checksum-ready"));const i="arm64"===t?`${s}-arm-sha256`:`${s}-x64-sha256`,m=document.querySelector(`#${i}`);m&&n.sha256[c]&&(m.textContent=`SHA256: ${n.sha256[c]}`,m.classList.add("checksum-ready"))}}return console.log("Successfully populated download links and checksums"),{assetLinks:o,assetHashes:n}}catch(e){console.error("Error occurred in getAssetLinks:",e);return document.querySelectorAll('[id$="-btn"]').forEach(e=>{"#"!==e.href&&""!==e.href||(e.textContent="Download Unavailable",e.classList.add("download-error"),e.style.opacity="0.5",e.style.cursor="not-allowed")}),null}}domReady(function(){console.log("Electros download script initialized"),getAssetLinks().then(e=>{e||console.error("Failed to process assets")}).catch(e=>{console.error("Unhandled error:",e)})}),window.initElectrosDownloads=getAssetLinks;