class SplashScreen{constructor(){this.splashScreen=document.getElementById("splash-screen"),this.body=document.body,this.isHidden=!1,this.minDisplayTime=1e3,this.startTime=Date.now(),this.init()}init(){this.splashScreen?(this.body.classList.add("splash-loading"),this.waitForCriticalResources()):console.warn("Splash screen element not found")}waitForCriticalResources(){const e=["css/style.css","css/themes.css","css/splash-screen.css","assets/font/ArgentPixel/Web/ArgentPixel/ArgentPixel-Regular.woff2","assets/font/ArgentPixel/Web/ArgentPixel/ArgentPixel-RegularItalic.woff2","assets/logos/Elemento.svg"];e.length;Promise.all(e.map(e=>new Promise(s=>{if(e.endsWith(".css")){const t=document.querySelector(`link[href="${e}"]`);t&&t.sheet?s():setTimeout(s,100)}else if(e.endsWith(".woff2")){new FontFace("Argent Pixel",`url(${e})`).load().then(()=>s()).catch(()=>s())}else{const t=new Image;t.onload=()=>s(),t.onerror=()=>s(),t.src=e}}))).then(()=>{this.hideSplashScreen()}),setTimeout(()=>{this.isHidden||this.hideSplashScreen()},3e3)}hideSplashScreen(){if(this.isHidden)return;const e=Date.now()-this.startTime,s=Math.max(0,this.minDisplayTime-e);setTimeout(()=>{this.splashScreen.classList.add("hidden"),this.body.classList.remove("splash-loading"),this.isHidden=!0,setTimeout(()=>{this.splashScreen&&this.splashScreen.parentNode&&this.splashScreen.parentNode.removeChild(this.splashScreen)},500),document.dispatchEvent(new CustomEvent("splashScreenHidden"))},s)}}document.addEventListener("DOMContentLoaded",()=>{new SplashScreen}),window.SplashScreen=SplashScreen;