<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Provider Candidature - Elemento</title>
    
    <!-- Optimized font loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&family=Red+Hat+Display:wght@300;400;500;600;700&family=Red+Hat+Mono:wght@400;500&display=swap" media="print" onload="this.media='all'">
    <noscript>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&family=Red+Hat+Display:wght@300;400;500;600;700&family=Red+Hat+Mono:wght@400;500&display=swap">
    </noscript>
    
    <!-- Theme CSS -->
    <link rel="stylesheet" href="../css/themes.css">
    
    <!-- Main CSS (contains navbar styles) -->
    <link rel="stylesheet" href="../css/style.css">
    
    <!-- Forms CSS -->
    <link rel="stylesheet" href="../css/forms.css">
    
    <!-- Navbar preload -->
    <link rel="preload" href="../js/navbar.js" as="script" crossorigin>
    <!-- Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
        var u="//matomo.elemento.cloud/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '1']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <!-- End Matomo Code -->
</head>
<body>
    <!-- Navbar placeholder -->
    <div id="navbar-placeholder"></div>

    <div class="provider-form-container">
        <div class="form-header">
            <h1 class="form-title">Join the <span class="pixel-accent">Atomosphere</span></h1>
            <p class="form-subtitle">Submit your candidature to become a certified Elemento cloud provider</p>
        </div>

        <form id="providerForm" action="https://api.web3forms.com/submit" method="POST">
            <!-- Web3Forms Access Key -->
            <input type="hidden" name="access_key" value="91df0fd4-2f3e-438f-82ed-65f7fdc23db4">
            
            <!-- Form Type -->
            <input type="hidden" name="subject" value="Cloud Provider Candidature">
            
            <!-- Honeypot for spam protection -->
            <input type="hidden" name="botcheck" style="display: none;">
            
            <!-- Company Information -->
            <div class="form-section">
                <h3 class="section-title">Company Information</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="companyName">Company Name *</label>
                        <input type="text" id="companyName" name="companyName" required>
                    </div>
                    <div class="form-group">
                        <label for="website">Company Website *</label>
                        <input type="url" id="website" name="website" required placeholder="https://example.com">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="foundedYear">Founded Year</label>
                        <input type="number" id="foundedYear" name="foundedYear" min="1900" max="2024">
                    </div>
                    <div class="form-group">
                        <label for="employeeCount">Number of Employees</label>
                        <select id="employeeCount" name="employeeCount">
                            <option value="">Select range</option>
                            <option value="1-10">1-10</option>
                            <option value="11-50">11-50</option>
                            <option value="51-200">51-200</option>
                            <option value="201-1000">201-1000</option>
                            <option value="1000+">1000+</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="companyDescription">Company Description *</label>
                    <textarea id="companyDescription" name="companyDescription" required 
                              placeholder="Brief description of your company and cloud services offered"></textarea>
                    <div class="character-count">
                        <span id="descriptionCount">0</span>/500 characters
                    </div>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="form-section">
                <h3 class="section-title">Primary Contact</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="contactName">Contact Name *</label>
                        <input type="text" id="contactName" name="contactName" required>
                    </div>
                    <div class="form-group">
                        <label for="contactTitle">Job Title *</label>
                        <input type="text" id="contactTitle" name="contactTitle" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="contactEmail">Email Address *</label>
                        <input type="email" id="contactEmail" name="contactEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="contactPhone">Phone Number</label>
                        <input type="tel" id="contactPhone" name="contactPhone">
                    </div>
                </div>
            </div>

            <!-- Cloud Services -->
            <div class="form-section">
                <h3 class="section-title">Cloud Services Offered</h3>
                
                <div class="services-grid">
                    <div class="service-category">
                        <h4>Virtual Machine Management</h4>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="vmServices[]" value="compute-instances">
                                Compute Instances
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="vmServices[]" value="auto-scaling">
                                Auto Scaling
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="vmServices[]" value="load-balancing">
                                Load Balancing
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="vmServices[]" value="backup-recovery">
                                Backup & Recovery
                            </label>
                        </div>
                    </div>

                    <div class="service-category">
                        <h4>Storage Services</h4>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="storageServices[]" value="object-storage">
                                Object Storage
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="storageServices[]" value="block-storage">
                                Block Storage
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="storageServices[]" value="file-storage">
                                File Storage
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="storageServices[]" value="cdn">
                                CDN Services
                            </label>
                        </div>
                    </div>

                    <div class="service-category">
                        <h4>Networking Services</h4>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="networkingServices[]" value="vpc">
                                Virtual Private Cloud
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="networkingServices[]" value="vpn">
                                VPN Services
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="networkingServices[]" value="dns">
                                DNS Services
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="networkingServices[]" value="firewall">
                                Firewall Services
                            </label>
                        </div>
                    </div>

                    <div class="service-category">
                        <h4>Container & Orchestration</h4>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="containerServices[]" value="kubernetes">
                                Kubernetes (K8s)
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="containerServices[]" value="docker">
                                Docker Support
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="containerServices[]" value="container-registry">
                                Container Registry
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="containerServices[]" value="serverless">
                                Serverless Containers
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Technical Capabilities -->
            <div class="form-section">
                <h3 class="section-title">Technical Capabilities</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="dataCenters">Number of Data Centers</label>
                        <input type="number" id="dataCenters" name="dataCenters" min="1">
                    </div>
                    <div class="form-group">
                        <label for="regions">Number of Regions</label>
                        <input type="number" id="regions" name="regions" min="1">
                    </div>
                </div>

                <div class="form-group">
                    <label for="apiAvailability">API Availability</label>
                    <select id="apiAvailability" name="apiAvailability">
                        <option value="">Select availability</option>
                        <option value="full">Full API Coverage</option>
                        <option value="partial">Partial API Coverage</option>
                        <option value="planned">Planned</option>
                        <option value="none">No API Available</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="complianceStandards">Compliance Standards</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="compliance[]" value="iso27001">
                            ISO 27001
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="compliance[]" value="soc2">
                            SOC 2
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="compliance[]" value="gdpr">
                            GDPR
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="compliance[]" value="hipaa">
                            HIPAA
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="compliance[]" value="pci-dss">
                            PCI DSS
                        </label>
                    </div>
                </div>
            </div>

            <!-- Business Information -->
            <div class="form-section">
                <h3 class="section-title">Business Information</h3>
                
                <div class="form-group">
                    <label for="targetMarkets">Target Markets</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="targetMarkets[]" value="enterprise">
                            Enterprise
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="targetMarkets[]" value="smb">
                            Small & Medium Business
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="targetMarkets[]" value="startup">
                            Startups
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="targetMarkets[]" value="government">
                            Government
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="targetMarkets[]" value="education">
                            Education
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="geographicCoverage">Geographic Coverage</label>
                    <textarea id="geographicCoverage" name="geographicCoverage" 
                              placeholder="List the countries/regions where you operate"></textarea>
                </div>

                <div class="form-group">
                    <label for="pricingModel">Pricing Model</label>
                    <select id="pricingModel" name="pricingModel">
                        <option value="">Select pricing model</option>
                        <option value="pay-as-you-go">Pay-as-you-go</option>
                        <option value="reserved-instances">Reserved Instances</option>
                        <option value="spot-instances">Spot Instances</option>
                        <option value="subscription">Subscription</option>
                        <option value="hybrid">Hybrid Model</option>
                    </select>
                </div>
            </div>

            <!-- Integration Readiness -->
            <div class="form-section">
                <h3 class="section-title">Integration Readiness</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="integrationTimeline">Expected Integration Timeline</label>
                        <select id="integrationTimeline" name="integrationTimeline">
                            <option value="">Select timeline</option>
                            <option value="1-3-months">1-3 months</option>
                            <option value="3-6-months">3-6 months</option>
                            <option value="6-12-months">6-12 months</option>
                            <option value="12+months">12+ months</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="technicalTeam">Technical Team Size</label>
                        <input type="number" id="technicalTeam" name="technicalTeam" min="1" 
                               placeholder="Number of developers/engineers">
                    </div>
                </div>

                <div class="form-group">
                    <label for="apiDocumentation">API Documentation Quality</label>
                    <select id="apiDocumentation" name="apiDocumentation">
                        <option value="">Select quality level</option>
                        <option value="excellent">Excellent (Comprehensive docs, examples, SDKs)</option>
                        <option value="good">Good (Well-documented APIs)</option>
                        <option value="basic">Basic (Essential documentation)</option>
                        <option value="limited">Limited (Minimal documentation)</option>
                    </select>
                </div>
            </div>

            <!-- Additional Information -->
            <div class="form-section">
                <h3 class="section-title">Additional Information</h3>
                
                <div class="form-group">
                    <label for="uniqueValue">Unique Value Proposition</label>
                    <textarea id="uniqueValue" name="uniqueValue" 
                              placeholder="What makes your cloud services unique?"></textarea>
                    <div class="character-count">
                        <span id="valueCount">0</span>/300 characters
                    </div>
                </div>

                <div class="form-group">
                    <label for="successStories">Success Stories</label>
                    <textarea id="successStories" name="successStories" 
                              placeholder="Brief description of notable customer success stories"></textarea>
                </div>

                <div class="form-group">
                    <label for="challenges">Integration Challenges</label>
                    <textarea id="challenges" name="challenges" 
                              placeholder="Any potential challenges or considerations for integration"></textarea>
                </div>
            </div>

            <!-- Terms and Conditions -->
            <div class="form-section">
                <div class="checkbox-label">
                    <input type="checkbox" id="terms" name="terms" value="false" required>
                    <label for="terms">I agree to the <a href="#" class="policy-link">Terms of Service</a> and <a href="#" class="policy-link">Privacy Policy</a> *</label>
                </div>

                <div class="checkbox-label">
                    <input type="checkbox" id="newsletter" name="newsletter" value="true" checked>
                    <label for="newsletter">Subscribe to Elemento updates and integration news</label>
                </div>
            </div>

            <div class="h-captcha" data-captcha="true" data-theme="dark" data-sitekey="50b2fe65-b00b-4b9e-ad62-3ba471098be2"></div>
            <input type="hidden" name="webhook" value="https://hooks.zapier.com/hooks/catch/14287335/u6abwr2/" />

            <button type="submit" class="btn btn-primary" id="submitBtn">
                Submit Candidature
            </button>
        </form>

        <div class="form-error-message" id="errorMessage">
            <p>Please complete all required fields.</p>
        </div>
    </div>

    <script src="../js/navbar.js" defer></script>
    <script src="../js/themes.js" defer></script>
    <script>
        // Character count functionality
        function updateCharacterCount(textareaId, countId, maxLength) {
            const textarea = document.getElementById(textareaId);
            const countSpan = document.getElementById(countId);
            
            textarea.addEventListener('input', function() {
                const currentLength = this.value.length;
                countSpan.textContent = currentLength;
                
                if (currentLength > maxLength) {
                    countSpan.style.color = '#DC3545';
                } else {
                    countSpan.style.color = 'var(--text-secondary)';
                }
            });
        }

        // Initialize character counters
        updateCharacterCount('companyDescription', 'descriptionCount', 500);
        updateCharacterCount('uniqueValue', 'valueCount', 300);

        // Enhanced form validation
        function validateProviderForm() {
            const form = document.getElementById('providerForm');
            const requiredFields = form.querySelectorAll('[required]');
            let isValid = true;
            
            // Check required fields
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    isValid = false;
                    field.style.borderColor = '#DC3545';
                } else {
                    field.style.borderColor = '';
                }
            });
            
            // Validate email format
            const email = document.getElementById('contactEmail');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email.value)) {
                isValid = false;
                email.style.borderColor = '#DC3545';
            }
            
            // Validate website URL
            const website = document.getElementById('website');
            const urlRegex = /^https?:\/\/.+/;
            if (!urlRegex.test(website.value)) {
                isValid = false;
                website.style.borderColor = '#DC3545';
            }
            
            return isValid;
        }

        // Form submission
        document.getElementById('providerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!validateProviderForm()) {
                showError('Please complete all required fields correctly.');
                return;
            }
            
            // Disable submit button
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';
            
            // Submit to Web3Forms
            fetch(this.action, {
                method: 'POST',
                body: new FormData(this)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Redirect to provider success page
                    window.location.href = 'provider-success.html';
                } else {
                    showError('Submission failed. Please try again.');
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Submit Candidature';
                }
            })
            .catch(error => {
                console.error('Form submission error:', error);
                showError('Submission failed. Please try again.');
                submitBtn.disabled = false;
                submitBtn.textContent = 'Submit Candidature';
            });
        });
        
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.innerHTML = `<p>${message}</p>`;
            errorDiv.classList.add('show');
            setTimeout(() => errorDiv.classList.remove('show'), 5000);
        }

        // Listen for theme changes from parent
        window.addEventListener('message', function(event) {
            if (event.data.type === 'theme-change') {
                document.body.className = event.data.theme;
            }
        });

        // Request current theme from parent on load
        if (window.parent !== window) {
            window.parent.postMessage({
                type: 'request-theme'
            }, '*');
        }

        // Function to apply theme from localStorage
        function applyThemeFromStorage() {
            try {
                // First try to get theme from current window's localStorage
                let savedTheme = localStorage.getItem('elemento-theme');
                
                // If not found and we're in an iframe, try parent window
                if (!savedTheme && window.parent !== window) {
                    try {
                        savedTheme = window.parent.localStorage.getItem('elemento-theme');
                    } catch (error) {
                        console.log('Could not access parent localStorage:', error);
                    }
                }
                
                if (savedTheme) {
                    document.body.className = savedTheme;
                    console.log('Applied theme from localStorage:', savedTheme);
                }
            } catch (error) {
                console.log('Could not read theme from localStorage:', error);
            }
        }

        // Apply theme on page load
        applyThemeFromStorage();

        // Listen for localStorage changes from other tabs/windows
        window.addEventListener('storage', function(event) {
            if (event.key === 'elemento-theme' && event.newValue) {
                document.body.className = event.newValue;
                console.log('Theme updated from storage event:', event.newValue);
            }
        });
    </script>

    <script src="https://web3forms.com/client/script.js" async defer></script>
</body>
</html> 